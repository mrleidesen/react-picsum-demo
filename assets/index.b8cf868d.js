var e=Object.defineProperty,t=Object.prototype.hasOwnProperty,a=Object.getOwnPropertySymbols,r=Object.prototype.propertyIsEnumerable,n=(t,a,r)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[a]=r,l=(e,l)=>{for(var c in l||(l={}))t.call(l,c)&&n(e,c,l[c]);if(a)for(var c of a(l))r.call(l,c)&&n(e,c,l[c]);return e};import{a as c,r as o,L as s,N as m,H as i,S as u,R as d,b as p}from"./vendor.057f0b22.js";!function(e=".",t="__import__"){try{self[t]=new Function("u","return import(u)")}catch(a){const r=new URL(e,location),n=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((a,l)=>{const c=new URL(e,r);if(self[t].moduleMap[c])return a(self[t].moduleMap[c]);const o=new Blob([`import * as m from '${c}';`,`${t}.moduleMap['${c}']=m;`],{type:"text/javascript"}),s=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(o),onerror(){l(new Error(`Failed to import: ${e}`)),n(s)},onload(){a(self[t].moduleMap[c]),n(s)}});document.head.appendChild(s)})),self[t].moduleMap={}}}("/react-picsum-demo/assets/");const f=c.create({baseURL:"https://picsum.photos"}),E=(e,t)=>f.get(e,{params:t}).then((e=>[e,null])).catch((e=>[null,e])),h=e=>{const t=(({id:e,width:t=300,height:a=300})=>`https://picsum.photos/id/${e}/${t}/${a}`)({id:e.id});return o.createElement("a",{href:e.url,target:"_blank",className:"w-full h-80 flex flex-col bg-white rounded-md shadow overflow-hidden hover:shadow-lg cursor-pointer transition-shadow"},o.createElement("div",{className:"w-full h-64 bg-gray-200"},o.createElement("img",{className:"object-cover w-full h-full",src:t,alt:e.url})),o.createElement("div",{className:"flex-1 box-border p-2 text-sm text-gray-700"},o.createElement("p",{className:"truncate"},"图片ID：",e.id),o.createElement("p",{className:"truncate"},"作者：",e.author)))};function v(e){var{type:n,className:c}=e,s=((e,n)=>{var l={};for(var c in e)t.call(e,c)&&n.indexOf(c)<0&&(l[c]=e[c]);if(null!=e&&a)for(var c of a(e))n.indexOf(c)<0&&r.call(e,c)&&(l[c]=e[c]);return l})(e,["type","className"]);const m=`btn btn--${n||"primary"} ${c}`;return o.createElement("button",l({className:m},s))}function b(){const[e,t]=o.useState([]),[a,r]=o.useState(1),[n,c]=o.useState(!1);o.useEffect((()=>{!n&&s()}),[a]);const s=async()=>{const[r,n]=await(l={page:a,limit:12},E("/v2/list",l));var l;if(r){const a=r.data;a.length<12&&c(!0),t([...e,...a])}};return o.createElement("div",{className:"flex flex-col items-center"},o.createElement("div",{className:"w-full grid grid-cols-1 gap-7 sm:grid-cols-2 md:grid-cols-3 mb-5"},e.map((e=>o.createElement(h,l({key:e.id},e))))),!n&&o.createElement(v,{onClick:()=>{!n&&r(a+1)}},"加载更多"))}const w=(e=0,t=1e3)=>(e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e);function g(){const[e,t]=o.useState(w()),[a,r]=o.useState({});o.useEffect((()=>{n()}),[e]);const n=async()=>{const[t,a]=await(({id:e})=>E(`/id/${e}/info`))({id:e});t?r(t.data):c()},c=()=>{t(w())};return o.createElement("div",{className:"flex flex-col items-center"},o.createElement(v,{className:"mb-10",onClick:c},"随机一张图片"),o.createElement("div",{className:"w-80"},a.id&&o.createElement(h,l({},a))))}function N(){return o.createElement("div",{className:"navbar"},o.createElement("div",{className:"navbar-wrapper"},o.createElement(s,{to:"/",className:"navbar__logo"},"Picsum Demo"),o.createElement("div",{className:"navbar__links hidden sm:block"},[{to:"/",title:"图片列表"},{to:"/random",title:"随机图片"}].map((e=>o.createElement(y,l({key:e.to},e)))))))}const y=e=>o.createElement(m,{className:"navbar__link",activeClassName:"navbar__link--active",exact:!0,to:e.to},e.title);function x(){return o.createElement(i,null,o.createElement(N,null),o.createElement("div",{className:"wrapper"},o.createElement(u,null,_())))}const _=()=>{const e=[{path:"/",component:b,exact:!0},{path:"/random",component:g}];return o.createElement(o.Fragment,null,e.map((e=>o.createElement(d,{key:e.path,path:e.path,exact:e.exact},o.createElement(e.component,null)))))};p.render(o.createElement(o.StrictMode,null,o.createElement(x,null)),document.getElementById("root"));
