var e=Object.defineProperty,t=Object.prototype.hasOwnProperty,a=Object.getOwnPropertySymbols,r=Object.prototype.propertyIsEnumerable,l=(t,a,r)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[a]=r,n=(e,n)=>{for(var c in n||(n={}))t.call(n,c)&&l(e,c,n[c]);if(a)for(var c of a(n))r.call(n,c)&&l(e,c,n[c]);return e};import{a as c,r as o,L as s,N as m,H as i,S as u,R as d,b as p}from"./vendor.057f0b22.js";!function(e=".",t="__import__"){try{self[t]=new Function("u","return import(u)")}catch(a){const r=new URL(e,location),l=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((a,n)=>{const c=new URL(e,r);if(self[t].moduleMap[c])return a(self[t].moduleMap[c]);const o=new Blob([`import * as m from '${c}';`,`${t}.moduleMap['${c}']=m;`],{type:"text/javascript"}),s=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(o),onerror(){n(new Error(`Failed to import: ${e}`)),l(s)},onload(){a(self[t].moduleMap[c]),l(s)}});document.head.appendChild(s)})),self[t].moduleMap={}}}("/react-picsum-demo/assets/");const f=c.create({baseURL:"https://picsum.photos"}),h=(e,t)=>f.get(e,{params:t}).then((e=>[e,null])).catch((e=>[null,e])),E=e=>{const t=(({id:e,width:t=300,height:a=300})=>`https://picsum.photos/id/${e}/${t}/${a}`)({id:e.id,width:300,height:300});return o.createElement("a",{href:e.url,target:"_blank",className:"w-full h-80 flex flex-col bg-white rounded-md shadow overflow-hidden hover:shadow-lg cursor-pointer transition-shadow"},o.createElement("div",{className:"w-full h-64 bg-gray-200"},o.createElement("img",{className:"object-cover w-full h-full",src:t,alt:e.url})),o.createElement("div",{className:"flex-1 box-border p-2 text-sm text-gray-700"},o.createElement("p",null,"图片ID：",e.id),o.createElement("p",null,"作者：",e.author)))};function v(e){var{type:l,className:c}=e,s=((e,l)=>{var n={};for(var c in e)t.call(e,c)&&l.indexOf(c)<0&&(n[c]=e[c]);if(null!=e&&a)for(var c of a(e))l.indexOf(c)<0&&r.call(e,c)&&(n[c]=e[c]);return n})(e,["type","className"]);const m=`btn btn--${l||"primary"} ${c}`;return o.createElement("button",n({className:m},s))}function b(){const[e,t]=o.useState([]),[a,r]=o.useState(1),[l,c]=o.useState(!1);o.useEffect((()=>{!l&&s()}),[a]);const s=async()=>{const[r,l]=await(n={page:a,limit:12},h("/v2/list",n));var n;if(r){const a=r.data;a.length<12&&c(!0),t([...e,...a])}};return o.createElement("div",{className:"flex flex-col items-center"},o.createElement("div",{className:"w-full grid grid-cols-1 gap-7 sm:grid-cols-2 md:grid-cols-3 mb-5"},e.map((e=>o.createElement(E,n({key:e.id},e))))),!l&&o.createElement(v,{onClick:()=>{!l&&r(a+1)}},"加载更多"))}const w=(e,t)=>(e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e);function g(){const[e,t]=o.useState(w(0,1e3)),[a,r]=o.useState({});o.useEffect((()=>{l()}),[e]);const l=async()=>{const[t,a]=await(({id:e})=>h(`/id/${e}/info`))({id:e});t?r(t.data):c()},c=()=>{t(w(0,1e3))};return o.createElement("div",{className:"flex flex-col items-center"},o.createElement(v,{className:"mb-10",onClick:c},"随机一张图片"),o.createElement("div",{className:"w-80"},a.id&&o.createElement(E,n({},a))))}function y(){return o.createElement("div",{className:"navbar"},o.createElement("div",{className:"navbar-wrapper"},o.createElement(s,{to:"/",className:"navbar__logo"},"Picsum Demo"),o.createElement("div",{className:"navbar__links"},[{to:"/",title:"图片列表"},{to:"/random",title:"随机图片"}].map((e=>o.createElement(N,n({key:e.to},e)))))))}const N=e=>o.createElement(m,{className:"navbar__link",activeClassName:"navbar__link--active",exact:!0,to:e.to},e.title);function x(){return o.createElement(i,null,o.createElement(y,null),o.createElement("div",{className:"wrapper"},o.createElement(u,null,_())))}const _=()=>{const e=[{path:"/",component:b,exact:!0},{path:"/random",component:g}];return o.createElement(o.Fragment,null,e.map((e=>o.createElement(d,{key:e.path,path:e.path,exact:e.exact},o.createElement(e.component,null)))))};p.render(o.createElement(o.StrictMode,null,o.createElement(x,null)),document.getElementById("root"));
